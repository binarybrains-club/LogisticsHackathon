---
import backgroundVideo from "@/assets/pool-dark.mp4";
---
<div class="fixed inset-0 -z-20 overflow-hidden">
  <video
    id="backgroundVideo"
    autoplay
    loop
    muted
    playsinline
    class="object-cover w-full h-full absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
    transition:persist
  >
    <source src={backgroundVideo} type="video/mp4" />
  </video>
</div>

<div class="fixed inset-0 bg-overlay mix-blend-multiply pointer-events-none -z-10"></div>

</div>
<style>
  #backgroundVideo {
    @apply opacity-0 transition-opacity duration-1000;
    transition-timing-function: ease-in-out;
  }
  #backgroundVideo.loaded {
    @apply opacity-100;
  }
</style>
<script>
  document.getElementById("backgroundVideo")?.addEventListener(
    "loadeddata",
    (event) => (event.target as HTMLVideoElement).classList.add("loaded"),
  );
</script>
